# Copyright (c) Microsoft Corporation.
# Licensed under the MIT License.

amlModuleIdentifier:
  moduleName: Sample Module with Optional Inputs
  moduleVersion: 0.0.1
  namespace: microsoft.com/azureml/samples
description: A sample module to use optional inputs.
inputs:
- name: Input path
  type: AnyDirectory
- name: Optional input path
  type: AnyDirectory
  optional: true
- name: String parameter
  type: String
  default: string value
  description: A parameter accepts a string value.
- name: Optional string parameter
  type: String
  optional: true
  description: A optional parameter accepts a string value.
- name: Int parameter
  type: Integer
  min: 1
  max: 5
  default: 3
  description: A parameter accepts an int value.
- name: Optional int parameter
  type: Integer
  optional: true
  description: A optional parameter accepts an int value.
outputs:
- name: Output path
  type: AnyDirectory
  description: The directory contains a dataframe.
implementation:
  container:
    # This image must contain packages azureml-sdk and azureml-dataprep to make sure it works properly in AzureML
    image: zzn2/azureml_sdk
    command: [python, optional_input.py]
    args: [
      --input-path, {inputPath: Input path},
      [--optional-input-path, {inputPath: Optional input path}],
      --string-param, {inputValue: String parameter},
      [--optional-string-param, {inputValue: Optional string parameter}],
      --int-parameter, {inputValue: Int parameter},
      [--optional-int-parameter, {inputValue: Optional int parameter}],
      --output-path, {outputPath: Output path},
    ]